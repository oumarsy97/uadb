import { PrismaService } from '../prisma/prisma.service';
import { CreateRessourceDto, UpdateRessourceDto, SearchRessourceDto } from './dto/create-ressource.dto';
import { Ressource } from 'generated/prisma';
export declare class RessourcesService {
    private readonly prisma;
    private readonly logger;
    constructor(prisma: PrismaService);
    create(createRessourceDto: CreateRessourceDto): Promise<Ressource>;
    findAll(options?: SearchRessourceDto): Promise<{
        data: {
            noteMoyenne: number;
            _count: {
                favoris: number;
                commentaires: number;
                notations: number;
                historiques: number;
            };
            auteur: {
                id: string;
                nom: string;
                prenom: string;
                role: import("generated/prisma").$Enums.RoleUser;
            } | null;
            id: string;
            image: string | null;
            universiteId: string;
            titre: string;
            description: string;
            type: import("generated/prisma").$Enums.TypeRessource;
            langue: string;
            urlFichier: string;
            urlFichierLocal: string | null;
            format: string;
            dateModification: Date;
            motsCles: string;
            auteurId: string | null;
            niveauAcces: import("generated/prisma").$Enums.NiveauAcces;
            datePublication: Date | null;
            estValide: boolean;
            estArchive: boolean;
            nomAuteurExterne: string | null;
            prenomAuteurExterne: string | null;
            validation: import("generated/prisma").$Enums.TypeValidation;
            isbn: string | null;
            doi: string | null;
            anneePublication: number | null;
            nbPages: number | null;
            nbExemplaires: number;
            nbDisponibles: number;
            coteClassification: string | null;
            categorieId: string;
        }[];
        meta: {
            total: number;
            page: number;
            limit: number;
            pages: number;
        };
    }>;
    findOne(id: string): Promise<{
        commentaires: ({
            user: {
                id: string;
                nom: string;
                prenom: string;
                role: import("generated/prisma").$Enums.RoleUser;
            };
        } & {
            id: string;
            userId: string;
            dateCreation: Date;
            ressourceId: string;
            universiteSrc: string | null;
            universiteUser: string | null;
            contenu: string;
        })[];
        notations: {
            userId: string;
            note: number;
            dateNotation: Date;
        }[];
        _count: {
            favoris: number;
            commentaires: number;
            notations: number;
            historiques: number;
        };
        auteur: {
            id: string;
            nom: string;
            prenom: string;
            role: import("generated/prisma").$Enums.RoleUser;
        } | null;
        id: string;
        image: string | null;
        universiteId: string;
        titre: string;
        description: string;
        type: import("generated/prisma").$Enums.TypeRessource;
        langue: string;
        urlFichier: string;
        urlFichierLocal: string | null;
        format: string;
        dateModification: Date;
        motsCles: string;
        auteurId: string | null;
        niveauAcces: import("generated/prisma").$Enums.NiveauAcces;
        datePublication: Date | null;
        estValide: boolean;
        estArchive: boolean;
        nomAuteurExterne: string | null;
        prenomAuteurExterne: string | null;
        validation: import("generated/prisma").$Enums.TypeValidation;
        isbn: string | null;
        doi: string | null;
        anneePublication: number | null;
        nbPages: number | null;
        nbExemplaires: number;
        nbDisponibles: number;
        coteClassification: string | null;
        categorieId: string;
    }>;
    update(id: string, updateRessourceDto: UpdateRessourceDto): Promise<{
        auteur: {
            id: string;
            email: string;
            motDePasse: string;
            nom: string;
            telephone: string | null;
            prenom: string;
            image: string | null;
            role: import("generated/prisma").$Enums.RoleUser;
            derniereConnexion: Date | null;
            estActif: boolean;
            universiteId: string;
            preferencesRecommandation: string | null;
            frequenceRecommandation: import("generated/prisma").$Enums.FrequenceRecommandation;
        } | null;
    } & {
        id: string;
        image: string | null;
        universiteId: string;
        titre: string;
        description: string;
        type: import("generated/prisma").$Enums.TypeRessource;
        langue: string;
        urlFichier: string;
        urlFichierLocal: string | null;
        format: string;
        dateModification: Date;
        motsCles: string;
        auteurId: string | null;
        niveauAcces: import("generated/prisma").$Enums.NiveauAcces;
        datePublication: Date | null;
        estValide: boolean;
        estArchive: boolean;
        nomAuteurExterne: string | null;
        prenomAuteurExterne: string | null;
        validation: import("generated/prisma").$Enums.TypeValidation;
        isbn: string | null;
        doi: string | null;
        anneePublication: number | null;
        nbPages: number | null;
        nbExemplaires: number;
        nbDisponibles: number;
        coteClassification: string | null;
        categorieId: string;
    }>;
    remove(id: string): Promise<{
        id: string;
        message: string;
    }>;
    findByAuteur(auteurId: string, options?: SearchRessourceDto): Promise<{
        data: {
            noteMoyenne: number;
            _count: {
                favoris: number;
                commentaires: number;
                notations: number;
                historiques: number;
            };
            auteur: {
                id: string;
                nom: string;
                prenom: string;
                role: import("generated/prisma").$Enums.RoleUser;
            } | null;
            id: string;
            image: string | null;
            universiteId: string;
            titre: string;
            description: string;
            type: import("generated/prisma").$Enums.TypeRessource;
            langue: string;
            urlFichier: string;
            urlFichierLocal: string | null;
            format: string;
            dateModification: Date;
            motsCles: string;
            auteurId: string | null;
            niveauAcces: import("generated/prisma").$Enums.NiveauAcces;
            datePublication: Date | null;
            estValide: boolean;
            estArchive: boolean;
            nomAuteurExterne: string | null;
            prenomAuteurExterne: string | null;
            validation: import("generated/prisma").$Enums.TypeValidation;
            isbn: string | null;
            doi: string | null;
            anneePublication: number | null;
            nbPages: number | null;
            nbExemplaires: number;
            nbDisponibles: number;
            coteClassification: string | null;
            categorieId: string;
        }[];
        meta: {
            total: number;
            page: number;
            limit: number;
            pages: number;
        };
    }>;
    findByUniversite(universiteId: string, options?: SearchRessourceDto): Promise<{
        data: {
            noteMoyenne: number;
            _count: {
                favoris: number;
                commentaires: number;
                notations: number;
                historiques: number;
            };
            auteur: {
                id: string;
                nom: string;
                prenom: string;
                role: import("generated/prisma").$Enums.RoleUser;
            } | null;
            id: string;
            image: string | null;
            universiteId: string;
            titre: string;
            description: string;
            type: import("generated/prisma").$Enums.TypeRessource;
            langue: string;
            urlFichier: string;
            urlFichierLocal: string | null;
            format: string;
            dateModification: Date;
            motsCles: string;
            auteurId: string | null;
            niveauAcces: import("generated/prisma").$Enums.NiveauAcces;
            datePublication: Date | null;
            estValide: boolean;
            estArchive: boolean;
            nomAuteurExterne: string | null;
            prenomAuteurExterne: string | null;
            validation: import("generated/prisma").$Enums.TypeValidation;
            isbn: string | null;
            doi: string | null;
            anneePublication: number | null;
            nbPages: number | null;
            nbExemplaires: number;
            nbDisponibles: number;
            coteClassification: string | null;
            categorieId: string;
        }[];
        meta: {
            total: number;
            page: number;
            limit: number;
            pages: number;
        };
    }>;
    toggleValidation(id: string): Promise<{
        id: string;
        image: string | null;
        universiteId: string;
        titre: string;
        description: string;
        type: import("generated/prisma").$Enums.TypeRessource;
        langue: string;
        urlFichier: string;
        urlFichierLocal: string | null;
        format: string;
        dateModification: Date;
        motsCles: string;
        auteurId: string | null;
        niveauAcces: import("generated/prisma").$Enums.NiveauAcces;
        datePublication: Date | null;
        estValide: boolean;
        estArchive: boolean;
        nomAuteurExterne: string | null;
        prenomAuteurExterne: string | null;
        validation: import("generated/prisma").$Enums.TypeValidation;
        isbn: string | null;
        doi: string | null;
        anneePublication: number | null;
        nbPages: number | null;
        nbExemplaires: number;
        nbDisponibles: number;
        coteClassification: string | null;
        categorieId: string;
    }>;
    toggleArchivage(id: string): Promise<{
        id: string;
        image: string | null;
        universiteId: string;
        titre: string;
        description: string;
        type: import("generated/prisma").$Enums.TypeRessource;
        langue: string;
        urlFichier: string;
        urlFichierLocal: string | null;
        format: string;
        dateModification: Date;
        motsCles: string;
        auteurId: string | null;
        niveauAcces: import("generated/prisma").$Enums.NiveauAcces;
        datePublication: Date | null;
        estValide: boolean;
        estArchive: boolean;
        nomAuteurExterne: string | null;
        prenomAuteurExterne: string | null;
        validation: import("generated/prisma").$Enums.TypeValidation;
        isbn: string | null;
        doi: string | null;
        anneePublication: number | null;
        nbPages: number | null;
        nbExemplaires: number;
        nbDisponibles: number;
        coteClassification: string | null;
        categorieId: string;
    }>;
    enregistrerAcces(data: {
        userId: string;
        ressourceId: string;
        typeAcces: 'CONSULTATION' | 'TELECHARGEMENT' | 'CITATION' | 'PARTAGE';
        ipAcces: string;
        universiteSrc?: string;
    }): Promise<{
        id: string;
        userId: string;
        ressourceId: string;
        universiteSrc: string | null;
        universiteUser: string | null;
        dateAcces: Date;
        typeAcces: import("generated/prisma").$Enums.TypeAcces;
    }>;
}
